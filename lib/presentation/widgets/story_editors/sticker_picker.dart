import 'package:flutter/material.dart';
import '../../../data/models/story_element_model.dart';

class StickerPicker extends StatefulWidget {
  final Function(StorySticker) onStickerSelected;

  const StickerPicker({super.key, required this.onStickerSelected});

  @override
  State<StickerPicker> createState() => _StickerPickerState();
}

class _StickerPickerState extends State<StickerPicker> {
  // Popular emojis for stickers
  final List<String> _emojis = [
    'ğŸ˜€',
    'ğŸ˜ƒ',
    'ğŸ˜„',
    'ğŸ˜',
    'ğŸ˜†',
    'ğŸ˜…',
    'ğŸ¤£',
    'ğŸ˜‚',
    'ğŸ™‚',
    'ğŸ™ƒ',
    'ğŸ˜‰',
    'ğŸ˜Š',
    'ğŸ˜‡',
    'ğŸ¥°',
    'ğŸ˜',
    'ğŸ¤©',
    'ğŸ˜˜',
    'ğŸ˜—',
    'ğŸ˜š',
    'ğŸ˜™',
    'ğŸ˜‹',
    'ğŸ˜›',
    'ğŸ˜œ',
    'ğŸ¤ª',
    'ğŸ˜',
    'ğŸ¤‘',
    'ğŸ¤—',
    'ğŸ¤­',
    'ğŸ¤«',
    'ğŸ¤”',
    'ğŸ¤',
    'ğŸ¤¨',
    'ğŸ˜',
    'ğŸ˜‘',
    'ğŸ˜¶',
    'ğŸ˜',
    'ğŸ˜’',
    'ğŸ™„',
    'ğŸ˜¬',
    'ğŸ¤¥',
    'ğŸ˜Œ',
    'ğŸ˜”',
    'ğŸ˜ª',
    'ğŸ¤¤',
    'ğŸ˜´',
    'ğŸ˜·',
    'ğŸ¤’',
    'ğŸ¤•',
    'ğŸ¤¢',
    'ğŸ¤®',
    'ğŸ¤§',
    'ğŸ¥µ',
    'ğŸ¥¶',
    'ğŸ˜¶â€ğŸŒ«ï¸',
    'ğŸ˜µ',
    'ğŸ˜µâ€ğŸ’«',
    'ğŸ¤¯',
    'ğŸ¤ ',
    'ğŸ¥³',
    'ğŸ˜',
    'ğŸ¤“',
    'ğŸ§',
    'ğŸ˜•',
    'ğŸ˜Ÿ',
    'ğŸ™',
    'â˜¹ï¸',
    'ğŸ˜®',
    'ğŸ˜¯',
    'ğŸ˜²',
    'ğŸ˜³',
    'ğŸ¥º',
    'ğŸ˜¦',
    'ğŸ˜§',
    'ğŸ˜¨',
    'ğŸ˜°',
    'ğŸ˜¥',
    'ğŸ˜¢',
    'ğŸ˜­',
    'ğŸ˜±',
    'ğŸ˜–',
    'ğŸ˜£',
    'ğŸ˜',
    'ğŸ˜“',
    'ğŸ˜©',
    'ğŸ˜«',
    'ğŸ¥±',
    'ğŸ˜¤',
    'ğŸ˜¡',
    'ğŸ˜ ',
    'ğŸ¤¬',
    'ğŸ’¯',
    'ğŸ’¢',
    'ğŸ’¥',
    'ğŸ’«',
    'ğŸ’¦',
    'ğŸ’¨',
    'ğŸ•³ï¸',
    'ğŸ’£',
    'ğŸ’¬',
    'ğŸ‘ï¸â€ğŸ—¨ï¸',
    'ğŸ—¨ï¸',
    'ğŸ—¯ï¸',
    'ğŸ’­',
    'ğŸ’¤',
    'ğŸ‘‹',
    'ğŸ¤š',
    'ğŸ–ï¸',
    'âœ‹',
    'ğŸ––',
    'ğŸ‘Œ',
    'ğŸ¤Œ',
    'ğŸ¤',
    'âœŒï¸',
    'ğŸ¤',
    'ğŸ¤Ÿ',
    'ğŸ¤˜',
    'ğŸ¤™',
    'ğŸ‘ˆ',
    'ğŸ‘‰',
    'ğŸ‘†',
    'ğŸ–•',
    'ğŸ‘‡',
    'â˜ï¸',
    'ğŸ‘',
    'ğŸ‘',
    'âœŠ',
    'ğŸ‘Š',
    'ğŸ¤›',
    'ğŸ¤œ',
    'ğŸ‘',
    'ğŸ™Œ',
    'ğŸ‘',
    'ğŸ¤²',
    'ğŸ¤',
    'ğŸ™',
    'âœï¸',
    'ğŸ’ª',
    'ğŸ¦¾',
    'ğŸ¦¿',
    'ğŸ¦µ',
    'ğŸ¦¶',
    'ğŸ‘‚',
    'ğŸ¦»',
    'ğŸ‘ƒ',
    'ğŸ§ ',
    'ğŸ«€',
    'ğŸ«',
    'ğŸ¦·',
    'ğŸ¦´',
    'ğŸ‘€',
    'ğŸ‘ï¸',
    'ğŸ‘…',
    'ğŸ‘„',
    'ğŸ’‹',
    'ğŸ©¸',
    'â¤ï¸',
    'ğŸ§¡',
    'ğŸ’›',
    'ğŸ’š',
    'ğŸ’™',
    'ğŸ’œ',
    'ğŸ–¤',
    'ğŸ¤',
    'ğŸ¤',
    'ğŸ’”',
    'â£ï¸',
    'ğŸ’•',
    'ğŸ’',
    'ğŸ’“',
    'ğŸ’—',
    'ğŸ’–',
    'ğŸ’˜',
    'ğŸ’',
    'ğŸ’Ÿ',
    'â˜®ï¸',
    'âœï¸',
    'â˜ªï¸',
    'ğŸ•‰ï¸',
    'â˜¸ï¸',
    'âœ¡ï¸',
    'ğŸ”¯',
    'ğŸ•',
    'â˜¯ï¸',
    'â˜¦ï¸',
    'ğŸ›',
    'â›',
    'â™ˆ',
    'â™‰',
    'â™Š',
    'â™‹',
    'â™Œ',
    'â™',
    'â™',
    'â™',
    'â™',
    'â™‘',
    'â™’',
    'â™“',
    'ğŸ†”',
    'âš›ï¸',
    'ğŸ‰‘',
    'â˜¢ï¸',
    'â˜£ï¸',
    'ğŸ“´',
    'ğŸ“³',
    'ğŸˆ¶',
    'ğŸˆš',
    'ğŸˆ¸',
    'ğŸˆº',
    'ğŸˆ·ï¸',
    'âœ´ï¸',
    'ğŸ†š',
    'ğŸ’®',
    'ğŸ‰',
    'ãŠ™ï¸',
    'ãŠ—ï¸',
    'ğŸˆ´',
    'ğŸˆµ',
    'ğŸˆ¹',
    'ğŸˆ²',
    'ğŸ…°ï¸',
    'ğŸ…±ï¸',
    'ğŸ†',
    'ğŸ†‘',
    'ğŸ…¾ï¸',
    'ğŸ†˜',
    'âŒ',
    'â­•',
    'ğŸ›‘',
    'â›”',
    'ğŸ“›',
    'ğŸš«',
    'ğŸ’¯',
    'ğŸ’¢',
    'â™¨ï¸',
    'ğŸš·',
    'ğŸš¯',
    'ğŸš³',
    'ğŸš±',
    'ğŸ”',
    'ğŸ“µ',
    'ğŸš­',
    'â—',
    'â•',
    'â“',
    'â”',
    'â€¼ï¸',
    'â‰ï¸',
    'ğŸ”…',
    'ğŸ”†',
    'ã€½ï¸',
    'âš ï¸',
    'ğŸš¸',
    'ğŸ”±',
    'âšœï¸',
    'ğŸ”°',
    'â™»ï¸',
    'âœ…',
    'ğŸˆ¯',
    'ğŸ’¹',
    'â‡ï¸',
    'âœ³ï¸',
    'â',
    'ğŸŒ',
    'ğŸ’ ',
    'â“‚ï¸',
    'ğŸŒ€',
    'ğŸ’¤',
    'ğŸ§',
    'ğŸš¾',
    'â™¿',
    'ğŸ…¿ï¸',
    'ğŸˆ³',
    'ğŸˆ‚ï¸',
    'ğŸ›‚',
    'ğŸ›ƒ',
    'ğŸ›„',
    'ğŸ›…',
    'ğŸš¹',
    'ğŸšº',
    'ğŸš¼',
    'ğŸš»',
    'ğŸš®',
    'ğŸ¦',
    'ğŸ“¶',
    'ğŸˆ',
    'ğŸ”£',
    'â„¹ï¸',
    'ğŸ”¤',
    'ğŸ”¡',
    'ğŸ” ',
    'ğŸ†–',
    'ğŸ†—',
    'ğŸ†™',
    'ğŸ†’',
    'ğŸ†•',
    'ğŸ†“',
    '0ï¸âƒ£',
    '1ï¸âƒ£',
    '2ï¸âƒ£',
    '3ï¸âƒ£',
    '4ï¸âƒ£',
    '5ï¸âƒ£',
    '6ï¸âƒ£',
    '7ï¸âƒ£',
    '8ï¸âƒ£',
    '9ï¸âƒ£',
    'ğŸ”Ÿ',
    'ğŸ”¢',
    '#ï¸âƒ£',
    '*ï¸âƒ£',
    'âï¸',
    'â–¶ï¸',
    'â¸',
    'â¯',
    'â¹',
    'âº',
    'â­',
    'â©',
    'âª',
    'â«',
    'â¬',
    'â—€ï¸',
    'ğŸ”¼',
    'ğŸ”½',
    'â¡ï¸',
    'â¬…ï¸',
    'â¬†ï¸',
    'â¬‡ï¸',
    'â†—ï¸',
    'â†˜ï¸',
    'â†™ï¸',
    'â†–ï¸',
    'â†•ï¸',
    'â†”ï¸',
    'â†ªï¸',
    'â†©ï¸',
    'â¤´ï¸',
    'â¤µï¸',
    'ğŸ”€',
    'ğŸ”',
    'ğŸ”‚',
    'ğŸ”„',
    'ğŸ”ƒ',
    'ğŸµ',
    'ğŸ¶',
    'â•',
    'â–',
    'â—',
    'âœ–ï¸',
    'ğŸ’²',
    'ğŸ’±',
    'â„¢ï¸',
    'Â©ï¸',
    'Â®ï¸',
    'ã€°ï¸',
    'â°',
    'â¿',
    'ğŸ”š',
    'ğŸ”™',
    'ğŸ”›',
    'ğŸ”œ',
    'ğŸ”',
    'ğŸ›',
    'âï¸',
    'ğŸš',
    'ğŸ”Š',
    'ğŸ”‰',
    'ğŸ”ˆ',
    'ğŸ”‡',
    'ğŸ“¢',
    'ğŸ“£',
    'ğŸ“¯',
    'ğŸ””',
    'ğŸ”•',
    'ğŸƒ',
    'ğŸ€„',
    'â™ ï¸',
    'â™¥ï¸',
    'â™¦ï¸',
    'â™£ï¸',
    'ğŸƒ',
    'ğŸ€„',
    'ğŸ´',
    'ğŸ­',
    'ğŸ–¼',
    'ğŸ¨',
    'ğŸ‘“',
    'ğŸ•¶',
    'ğŸ¥½',
    'ğŸ¥¼',
    'ğŸ¦º',
    'ğŸ‘”',
    'ğŸ‘•',
    'ğŸ‘–',
    'ğŸ§£',
    'ğŸ§¤',
    'ğŸ§¥',
    'ğŸ§¦',
    'ğŸ‘—',
    'ğŸ‘˜',
    'ğŸ‘™',
    'ğŸ‘š',
    'ğŸ‘›',
    'ğŸ‘œ',
    'ğŸ‘',
    'ğŸ’',
    'ğŸ‘',
    'ğŸ‘Ÿ',
    'ğŸ¥¾',
    'ğŸ¥¿',
    'ğŸ‘ ',
    'ğŸ‘¡',
    'ğŸ©°',
    'ğŸ‘¢',
    'ğŸ‘‘',
    'ğŸ‘’',
    'ğŸ©',
    'ğŸ“',
    'ğŸ§¢',
    'â›‘',
    'ğŸ“¿',
    'ğŸ’„',
    'ğŸ’',
    'ğŸ’',
    'ğŸ”‡',
    'ğŸ”ˆ',
    'ğŸ”‰',
    'ğŸ”Š',
    'ğŸ“¢',
    'ğŸ“£',
    'ğŸ“¯',
    'ğŸ””',
    'ğŸ”•',
    'ğŸ¼',
    'ğŸµ',
    'ğŸ¶',
    'ğŸ™',
    'ğŸš',
    'ğŸ›',
    'ğŸ¤',
    'ğŸ§',
    'ğŸ“»',
    'ğŸ·',
    'ğŸº',
    'ğŸ¸',
    'ğŸª•',
    'ğŸ»',
    'ğŸ¹',
    'ğŸ¥',
    'ğŸª˜',
    'ğŸ²',
    'ğŸ¯',
    'ğŸ³',
    'ğŸ®',
    'ğŸ°',
    'ğŸƒ',
    'ğŸ€„',
    'ğŸ´',
    'ğŸ­',
    'ğŸ–¼',
    'ğŸ¨',
    'ğŸ‘“',
    'ğŸ•¶',
    'ğŸ¥½',
    'ğŸ¥¼',
    'ğŸ¦º',
    'ğŸ‘”',
    'ğŸ‘•',
    'ğŸ‘–',
    'ğŸ§£',
    'ğŸ§¤',
    'ğŸ§¥',
    'ğŸ§¦',
    'ğŸ‘—',
    'ğŸ‘˜',
    'ğŸ‘™',
    'ğŸ‘š',
    'ğŸ‘›',
    'ğŸ‘œ',
    'ğŸ‘',
    'ğŸ’',
    'ğŸ‘',
    'ğŸ‘Ÿ',
    'ğŸ¥¾',
    'ğŸ¥¿',
    'ğŸ‘ ',
    'ğŸ‘¡',
    'ğŸ©°',
    'ğŸ‘¢',
    'ğŸ‘‘',
    'ğŸ‘’',
    'ğŸ©',
    'ğŸ“',
    'ğŸ§¢',
    'â›‘',
    'ğŸ“¿',
    'ğŸ’„',
    'ğŸ’',
    'ğŸ’',
  ];

  @override
  Widget build(BuildContext context) {
    return Container(
      height: 300,
      color: Colors.white,
      child: Column(
        children: [
          const Padding(
            padding: EdgeInsets.all(8.0),
            child: Text(
              'Chá»n nhÃ£n dÃ¡n',
              style: TextStyle(color: Colors.black87, fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
          Expanded(
            child: GridView.builder(
              padding: const EdgeInsets.all(8),
              gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(
                crossAxisCount: 8,
                crossAxisSpacing: 8,
                mainAxisSpacing: 8,
              ),
              itemCount: _emojis.length,
              itemBuilder: (context, index) {
                return GestureDetector(
                  onTap: () {
                    // Create sticker at center position
                    final sticker = StorySticker(emoji: _emojis[index], x: 0.5, y: 0.5, scale: 1.0, rotation: 0.0);
                    widget.onStickerSelected(sticker);
                    Navigator.pop(context);
                  },
                  child: Container(
                    decoration: BoxDecoration(color: Colors.grey[100], borderRadius: BorderRadius.circular(8)),
                    child: Center(child: Text(_emojis[index], style: const TextStyle(fontSize: 24))),
                  ),
                );
              },
            ),
          ),
        ],
      ),
    );
  }
}
